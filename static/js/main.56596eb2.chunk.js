(this["webpackJsonpswap-ui"]=this["webpackJsonpswap-ui"]||[]).push([[0],{234:function(e,t,n){},239:function(e,t){},240:function(e,t){},242:function(e,t){},264:function(e,t){},265:function(e,t){},285:function(e,t){},294:function(e,t){},295:function(e,t){},299:function(e,t){},300:function(e,t){},313:function(e,t){},315:function(e,t){},332:function(e,t){},346:function(e,t,n){},347:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(28),c=n.n(i),a=(n(234),n(2)),s=n.n(a),u=n(6),l=n(15),d=n(18),b=n(134),j=n(49),p=n(35),f=n(36),x=n(19),m=n(163),O=n(393),h=n(164),v=n(54),g=n(211),y=n(8),w=n(218),k=n(213),C=n(383),S=n(404),M=n(348),T=n(408),F=n(405),P=new y.PublicKey("SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt"),A=new y.PublicKey("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"),B=new y.PublicKey("Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"),R=new y.PublicKey("9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"),E=n(21),N=n(102),L=n(72),K=n(7),q=o.a.createContext(null);function D(e){return Object(K.jsx)(q.Provider,{value:{tokenList:e.tokenList},children:e.children})}function z(){var e=Object(r.useContext)(q);if(null===e)throw new Error("Context not available");return e.tokenList.getList()}var I=o.a.createContext(null);function W(e){var t=Object(r.useState)(new Map),n=Object(x.a)(t,2),o=n[0],i=n[1],c=Object(r.useState)(new Map),a=Object(x.a)(c,2),l=a[0],d=a[1],b=Object(r.useState)(new Map),j=Object(x.a)(b,2),p=j[0],f=j[1],m=e.swapClient;return Object(r.useEffect)((function(){L.OpenOrders.findForOwner(m.program.provider.connection,m.program.provider.wallet.publicKey,R).then(function(){var e=Object(u.a)(s.a.mark((function e(t){var n,r,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=new Map,r=new Set,t.forEach((function(e){r.add(e.market.toString()),n.get(e.market.toString())?n.get(e.market.toString()).push(e):n.set(e.market.toString(),[e])})),!(r.size>100)){e.next=5;break}throw new Error("Too many markets. Please file an issue to update this");case 5:return e.next=7,v.utils.getMultipleAccounts(m.program.provider.connection,Object(E.a)(r).map((function(e){return new y.PublicKey(e)})));case 7:o=e.sent.map((function(e){return{publicKey:null===e||void 0===e?void 0:e.publicKey,account:new L.Market(L.Market.getLayout(R).decode(null===e||void 0===e?void 0:e.account.data),-1,-1,m.program.provider.opts,R)}})),d((function(e){var t=new Map(e);return o.forEach((function(e){t.set(e.publicKey.toString(),e.account)})),t})),i(n);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[m.program.provider.connection,m.program.provider.wallet.publicKey,m.program.provider.opts]),Object(K.jsx)(I.Provider,{value:{openOrders:o,marketCache:l,setMarketCache:d,orderbookCache:p,setOrderbookCache:f,swapClient:m},children:e.children})}function U(){var e=Object(r.useContext)(I);if(null===e)throw new Error("Context not available");return e}function _(e){var t=U(),n=Object(N.a)(Object(u.a)(s.a.mark((function n(){var r,o;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return",void 0);case 2:if(!t.marketCache.get(e.toString())){n.next=4;break}return n.abrupt("return",t.marketCache.get(e.toString()));case 4:return n.next=6,L.Market.load(t.swapClient.program.provider.connection,e,void 0,R);case 6:return r=n.sent,(o=new Map(t.marketCache)).set(e.toString(),r),t.setMarketCache(o),n.abrupt("return",r);case 11:case"end":return n.stop()}}),n)}))),[t.swapClient.program.provider.connection,e]);if(n.result)return n.result}function G(e){var t=function(e){var t=U(),n=t.swapClient,r=t.orderbookCache,o=t.setOrderbookCache,i=_(e),c=Object(N.a)(Object(u.a)(s.a.mark((function t(){var c,a,u,l,d,b;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&i){t.next=2;break}return t.abrupt("return",void 0);case 2:if(!r.get(e.toString())){t.next=4;break}return t.abrupt("return",r.get(e.toString()));case 4:return t.next=6,Promise.all([i.loadBids(n.program.provider.connection),i.loadAsks(n.program.provider.connection)]);case 6:return c=t.sent,a=Object(x.a)(c,2),u=a[0],l=a[1],d={bids:u,asks:l},(b=new Map(r)).set(e.toString(),d),o(b),t.abrupt("return",d);case 15:case"end":return t.stop()}}),t)}))),[n.program.provider.connection,e,i]);if(c.result)return c.result}(e);if(void 0!==t){var n=t.bids.items(!0).next().value,r=t.asks.items(!1).next().value;return(n.price+r.price)/2}}var H=o.a.createContext(null);function V(e){var t=Object(r.useState)(P),n=Object(x.a)(t,2),o=n[0],i=n[1],c=Object(r.useState)(A),a=Object(x.a)(c,2),s=a[0],u=a[1],l=Object(r.useState)(0),d=Object(x.a)(l,2),b=d[0],j=d[1],p=Object(r.useState)(0),f=Object(x.a)(p,2),m=f[0],O=f[1],h=Object(r.useState)(.5),v=Object(x.a)(h,2),g=v[0],y=v[1],w=Object(r.useState)(null),k=Object(x.a)(w,2),C=k[0],S=k[1],M=X(o,s,C);return Object(K.jsx)(H.Provider,{value:{fromMint:o,setFromMint:i,toMint:s,setToMint:u,fromAmount:b,setFromAmount:function(e){if(void 0===M)throw new Error("Fair price not found");j(e),O(e/M)},toAmount:m,setToAmount:function(e){if(void 0===M)throw new Error("Fair price not found");O(e),j(e*M)},swapToFromMints:function(){var e=o,t=b,n=m;i(s),u(e),j(n),O(t)},slippage:g,setSlippage:y,fairOverride:C,setFairOverride:S},children:e.children})}function J(){var e=Object(r.useContext)(H);if(null===e)throw new Error("Context not available");return e}function Q(){var e=J(),t=e.fairOverride;return X(e.fromMint,e.toMint,t)}function X(e,t,n){var o=function(e,t){var n=U().swapClient,o=Object(r.useMemo)((function(){return n.route(e,t)}),[n,e,t]),i=G(o[0]),c=_(o[0]),a=G(o[1]);if(1===o.length&&void 0!==i){if(void 0===c)return;return(null===c||void 0===c?void 0:c.baseMintAddress.equals(e))?1/i:i}if(void 0!==i&&void 0!==a)return a/i}(e,t);return null===n?o:n}var Y=n(79),Z=o.a.createContext(null);function $(e){var t=e.provider,n=Object(r.useState)(new Map),o=Object(x.a)(n,2),i=o[0],c=o[1];return Object(K.jsx)(Z.Provider,{value:{mintCache:i,setMintCache:c,provider:t},children:e.children})}function ee(e){var t=Object(r.useContext)(Z);if(null===t)throw new Error("Mint context not found");var n=Object(N.a)(Object(u.a)(s.a.mark((function n(){var r,o,i;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return",void 0);case 2:if(!t.mintCache.get(e.toString())){n.next=4;break}return n.abrupt("return",t.mintCache.get(e.toString()));case 4:return r=new Y.Token(t.provider.connection,e,Y.TOKEN_PROGRAM_ID,new y.Account),n.next=7,r.getMintInfo();case 7:return o=n.sent,(i=new Map(t.mintCache)).set(e.toString(),o),t.setMintCache(i),n.abrupt("return",o);case 12:case"end":return n.stop()}}),n)}))),[t.provider.connection,e]);if(n.result)return n.result}var te=n(3),ne=n(23);function re(){return(re=Object(u.a)(s.a.mark((function e(t,n){var r,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ce(n),e.next=3,t._rpcRequest("getProgramAccounts",[Y.TOKEN_PROGRAM_ID.toBase58(),{commitment:t.commitment,filters:r}]);case 3:if(!(o=e.sent).error){e.next=6;break}throw new Error("failed to get token accounts owned by "+n.toBase58()+": "+o.error.message);case 6:return e.abrupt("return",o.result.map((function(e){var t=e.pubkey,n=e.account,r=n.data,o=n.executable,i=n.owner,c=n.lamports;return{publicKey:new y.PublicKey(t),accountInfo:{data:ne.decode(r),executable:o,owner:new y.PublicKey(i),lamports:c}}})).filter((function(e){var t=e.accountInfo;return r.every((function(e){if(e.dataSize)return t.data.length===e.dataSize;if(e.memcmp){var n=ne.decode(e.memcmp.bytes);return t.data.slice(e.memcmp.offset,e.memcmp.offset+n.length).equals(n)}return!1}))})).map((function(e){return{publicKey:e.publicKey,account:ie(e.accountInfo.data)}})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var oe=te.struct([te.blob(32,"mint"),te.blob(32,"owner"),te.nu64("amount"),te.blob(93)]);te.struct([te.blob(44),te.u8("decimals"),te.blob(37)]);function ie(e){var t=oe.decode(e),n=t.mint,r=t.owner,o=t.amount;return{mint:new y.PublicKey(n),owner:new y.PublicKey(r),amount:new v.BN(o)}}function ce(e){return[{memcmp:{offset:oe.offsetOf("owner"),bytes:e.toBase58()}},{dataSize:oe.span}]}var ae=o.a.createContext(null);function se(e){var t=e.provider,n=Object(r.useState)(void 0),o=Object(x.a)(n,2),i=o[0],c=o[1];return Object(r.useEffect)((function(){(function(e,t){return re.apply(this,arguments)})(t.connection,t.wallet.publicKey).then(c)}),[t.wallet.publicKey,t.connection]),Object(K.jsx)(ae.Provider,{value:{ownedTokenAccounts:i},children:e.children})}var ue=n(409),le=n(384),de=n(385),be=n(388),je=n(349),pe=Object(C.a)((function(){return{dialogContent:{paddingTop:0},textField:{width:"100%",border:"solid 1pt #ccc",borderRadius:"10px",marginBottom:"8px"}}}));function fe(e){var t=e.open,n=e.onClose,o=e.setMint,i=Object(r.useState)(""),c=Object(x.a)(i,2),a=c[0],s=c[1],u=pe(),l=U().swapClient;return Object(K.jsx)(ue.a,{open:t,onClose:n,PaperProps:{style:{borderRadius:"10px"}},children:Object(K.jsxs)("div",{style:{width:"420px"},children:[Object(K.jsx)(le.a,{style:{fontWeight:"bold"},children:"Select a token"}),Object(K.jsxs)(de.a,{className:u.dialogContent,children:[Object(K.jsx)(T.a,{className:u.textField,placeholder:"Search name",value:a,onChange:function(e){return s(e.target.value)},InputProps:{disableUnderline:!0,style:{padding:"10px"}}}),Object(K.jsx)("div",{children:Object(K.jsx)(be.a,{disablePadding:!0,children:l.tokens().concat([A,B]).map((function(e){return Object(K.jsx)(xe,{mint:e,onClick:function(e){o(e),n()}},e.toString())}))})})]})]})})}function xe(e){var t=e.mint,n=e.onClick;return Object(K.jsxs)(je.a,{button:!0,onClick:function(){return n(t)},children:[Object(K.jsx)(rt,{mint:t,style:{width:"30px",borderRadius:"15px"}}),Object(K.jsx)(me,{mint:t})]})}function me(e){var t=e.mint,n=z().filter((function(e){return e.address===t.toString()}))[0];return Object(K.jsxs)("div",{style:{marginLeft:"16px"},children:[Object(K.jsx)(h.a,{style:{fontWeight:"bold"},children:n.symbol}),Object(K.jsx)(h.a,{color:"textSecondary",style:{fontSize:"14px"},children:n.name})]})}var Oe=n(25),he=n(389),ve=n(411),ge=n(391),ye=n(395),we=n(396),ke=n(397),Ce=n(398),Se=n(399),Me=n(400),Te=n(401),Fe=n(406),Pe=n(402),Ae=n(392),Be=n(390),Re=n(394),Ee=n(67),Ne=n.n(Ee),Le=Object(C.a)((function(){return{tab:{width:"50%"},table:{},settingsButton:{padding:0}}}));function Ke(){var e=Le();return Object(K.jsx)(Ne.a,{variant:"popover",children:function(t){return Object(K.jsxs)("div",{children:[Object(K.jsx)(he.a,Object(Oe.a)(Object(Oe.a)({},Object(Ee.bindTrigger)(t)),{},{className:e.settingsButton,children:Object(K.jsx)(Be.a,{})})),Object(K.jsx)(ve.a,Object(Oe.a)(Object(Oe.a)({},Object(Ee.bindPopover)(t)),{},{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{style:{borderRadius:"10px"}},children:Object(K.jsx)(qe,{})}))]})}})}function qe(){var e=J(),t=e.slippage,n=e.setSlippage,o=e.fairOverride,i=e.setFairOverride,c=Object(r.useState)(!1),a=Object(x.a)(c,2),s=a[0],u=a[1],l=Q();return Object(K.jsxs)("div",{style:{padding:"15px",width:"305px"},children:[Object(K.jsx)(h.a,{color:"textSecondary",style:{fontWeight:"bold"},children:"Settings"}),Object(K.jsxs)("div",{style:{marginTop:"10px"},children:[Object(K.jsxs)("div",{children:[Object(K.jsx)(h.a,{color:"textSecondary",children:"Slippage tolerance"}),Object(K.jsx)(T.a,{type:"number",placeholder:"Error tolerance percentage",value:t,onChange:function(e){return n(parseFloat(e.target.value))},style:{display:"flex",justifyContent:"center",flexDirection:"column"},InputProps:{endAdornment:Object(K.jsx)(ge.a,{position:"end",children:"%"})}})]}),Object(K.jsxs)("div",{style:{marginTop:"5px"},children:[Object(K.jsx)(h.a,{color:"textSecondary",children:"Fair price"}),Object(K.jsxs)("div",{style:{display:"flex"},children:[Object(K.jsx)(T.a,{type:"number",placeholder:"Fair price override",value:l,onChange:function(e){return i(parseFloat(e.target.value))},style:{marginRight:"10px",flex:1,display:"flex",justifyContent:"center",flexDirection:"column"},disabled:null===o}),Object(K.jsx)(Ae.a,{selected:null===o,onClick:function(){void 0!==l?i(null===o?l:null):console.error("Fair is undefined")},style:{paddingTop:"3px",paddingBottom:"3px",paddingLeft:"5px",paddingRight:"5px",borderRadius:"20px"},children:"Auto"})]})]}),Object(K.jsx)(O.a,{style:{width:"100%",marginTop:"10px",background:"#e0e0e0"},onClick:function(){return u(!0)},children:"Manage Dex Accounts"})]}),Object(K.jsx)(De,{open:s,onClose:function(){return u(!1)}})]})}function De(e){var t=e.open,n=e.onClose;return Object(K.jsx)(ue.a,{maxWidth:"lg",open:t,onClose:n,PaperProps:{style:{borderRadius:"10px"}},children:Object(K.jsxs)("div",{children:[Object(K.jsx)("div",{style:{height:"24px",display:"flex",justifyContent:"space-between"},children:Object(K.jsx)(he.a,{onClick:n,style:{padding:0,position:"absolute",right:"8px",top:"8px"},children:Object(K.jsx)(Re.a,{})})}),Object(K.jsx)(de.a,{style:{paddingTop:0},children:Object(K.jsx)(ze,{})})]})})}function ze(){var e=Le(),t=U().openOrders;return Object(K.jsx)(ye.a,{component:M.a,elevation:0,children:Object(K.jsxs)(we.a,{className:e.table,"aria-label":"simple table",children:[Object(K.jsx)(ke.a,{children:Object(K.jsxs)(Ce.a,{children:[Object(K.jsx)(Se.a,{children:"Market"}),Object(K.jsx)(Se.a,{align:"center",children:"Open Orders Account"}),Object(K.jsx)(Se.a,{align:"center",children:"Base Used"}),Object(K.jsx)(Se.a,{align:"center",children:"Base Free"}),Object(K.jsx)(Se.a,{align:"center",children:"Quote Used"}),Object(K.jsx)(Se.a,{align:"center",children:"Quote Free"}),Object(K.jsx)(Se.a,{align:"center",children:"Settle"}),Object(K.jsx)(Se.a,{align:"center",children:"Close"})]})}),Object(K.jsx)(Me.a,{children:Array.from(t.entries()).map((function(e){var t=Object(x.a)(e,2),n=t[0],r=t[1];return Object(K.jsx)(Ie,{market:new y.PublicKey(n),openOrders:r},n)}))})]})})}function Ie(e){var t=e.market,n=e.openOrders,o=Object(r.useState)(n[0]),i=Object(x.a)(o,2),c=i[0],a=i[1],l=_(t),d=z(),b=ee(null===l||void 0===l?void 0:l.baseMintAddress),j=ee(null===l||void 0===l?void 0:l.quoteMintAddress),p=d.filter((function(e){return e.address===(null===l||void 0===l?void 0:l.baseMintAddress.toString())})).map((function(e){return e.symbol}))[0],f=d.filter((function(e){return e.address===(null===l||void 0===l?void 0:l.quoteMintAddress.toString())})).map((function(e){return e.symbol}))[0],m=p&&f?"".concat(p," / ").concat(f):t.toString(),v=c.baseTokenFree.toNumber()+c.quoteTokenFree.toNumber()===0,g=c.baseTokenTotal.toNumber()+c.quoteTokenTotal.toNumber()!==0,y=function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(K.jsxs)(Ce.a,{children:[Object(K.jsx)(Se.a,{component:"th",scope:"row",children:Object(K.jsx)(h.a,{children:Object(K.jsx)(Te.a,{href:"https://dex.projectserum.com/#/market/".concat(t.toString()),target:"_blank",rel:"noopener",children:m})})}),Object(K.jsx)(Se.a,{align:"center",children:Object(K.jsx)(Fe.a,{value:c.address.toString(),onChange:function(e){return a(n.filter((function(t){return t.address.toString()===e.target.value}))[0])},children:n.map((function(e){return Object(K.jsx)(Pe.a,{value:e.address.toString(),children:e.address.toString()})}))})}),Object(K.jsx)(Se.a,{align:"center",children:We(b,c.baseTokenTotal.sub(c.baseTokenFree))}),Object(K.jsx)(Se.a,{align:"center",children:We(b,c.baseTokenFree)}),Object(K.jsx)(Se.a,{align:"center",children:We(j,c.quoteTokenTotal.sub(c.quoteTokenFree))}),Object(K.jsx)(Se.a,{align:"center",children:We(j,c.quoteTokenFree)}),Object(K.jsx)(Se.a,{align:"center",children:Object(K.jsx)(O.a,{color:"primary",disabled:v,onClick:y,children:"Settle"})}),Object(K.jsx)(Se.a,{align:"center",children:Object(K.jsx)(O.a,{color:"secondary",disabled:g,onClick:w,children:"Close"})})]},t.toString())}function We(e,t){return e?(t.toNumber()/Math.pow(10,e.decimals)).toFixed(e.decimals):t.toNumber().toString()}var Ue=n(403),_e=Object(C.a)((function(e){return{infoLabel:{marginTop:"10px",marginBottom:"10px",display:"flex",justifyContent:"space-between",marginLeft:"5px",marginRight:"5px"},fairPriceLabel:{marginRight:"10px",display:"flex",justifyContent:"center",flexDirection:"column",color:e.palette.text.secondary},infoButton:{padding:0}}}));function Ge(){var e=_e(),t=J(),n=t.fromMint,r=t.toMint,o=ee(n),i=Q(),c=z(),a=c.filter((function(e){return e.address===n.toString()}))[0],s=c.filter((function(e){return e.address===r.toString()}))[0];return Object(K.jsxs)("div",{className:e.infoLabel,children:[Object(K.jsx)(h.a,{color:"textSecondary"}),Object(K.jsxs)("div",{style:{display:"flex"},children:[Object(K.jsx)("div",{className:e.fairPriceLabel,children:void 0!==i?"1 ".concat(s.symbol," = ").concat(i.toFixed(null===o||void 0===o?void 0:o.decimals)," ").concat(a.symbol):"-"}),Object(K.jsx)(He,{})]})]})}function He(){var e=_e();return Object(K.jsx)(Ne.a,{variant:"popover",children:function(t){return Object(K.jsxs)("div",{style:{display:"flex"},children:[Object(K.jsx)(he.a,Object(Oe.a)(Object(Oe.a)({},Object(Ee.bindTrigger)(t)),{},{className:e.infoButton,children:Object(K.jsx)(Ue.a,{})})),Object(K.jsx)(ve.a,Object(Oe.a)(Object(Oe.a)({},Object(Ee.bindPopover)(t)),{},{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{style:{borderRadius:"10px"}},disableRestoreFocus:!0,children:Object(K.jsx)(Ve,{})}))]})}})}function Ve(){var e=J(),t=e.fromMint,n=e.toMint,r=U().swapClient,o=z(),i=o.filter((function(e){return e.address===t.toString()})).map((function(e){return e.symbol}))[0],c=o.filter((function(e){return e.address===n.toString()})).map((function(e){return e.symbol}))[0],a=[{ticker:i,mint:t},{ticker:c,mint:n}];return Object(K.jsxs)("div",{style:{padding:"15px",width:"250px"},children:[Object(K.jsxs)("div",{children:[Object(K.jsx)(h.a,{color:"textSecondary",style:{fontWeight:"bold",marginBottom:"5px"},children:"Trade Route"}),r.route(t,n).map((function(e){return Object(K.jsx)(Je,{market:e},e.toString())}))]}),Object(K.jsxs)("div",{style:{marginTop:"15px"},children:[Object(K.jsx)(h.a,{color:"textSecondary",style:{fontWeight:"bold",marginBottom:"5px"},children:"Tokens"}),a.map((function(e){return Object(K.jsxs)("div",{style:{marginTop:"5px",display:"flex",justifyContent:"space-between"},children:[Object(K.jsx)(Te.a,{href:"https://explorer.solana.com/address/".concat(e.mint.toString()),target:"_blank",rel:"noopener",children:e.ticker}),Object(K.jsx)("code",{style:{width:"128px",overflow:"hidden"},children:e.mint.toString()})]},e.mint.toString())}))]})]})}function Je(e){var t=e.market,n=function(e){var t=z(),n=_(e),r=t.filter((function(e){return e.address===(null===n||void 0===n?void 0:n.baseMintAddress.toString())})).map((function(e){return e.symbol}))[0],o=t.filter((function(e){return e.address===(null===n||void 0===n?void 0:n.quoteMintAddress.toString())})).map((function(e){return e.symbol}))[0];return"".concat(r," / ").concat(o)}(t),r=G(t);return Object(K.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"5px"},children:[Object(K.jsx)(Te.a,{href:"https://dex.projectserum.com/#/market/".concat(t.toString()),target:"_blank",rel:"noopener",children:n}),Object(K.jsx)("code",{style:{marginLeft:"10px"},children:r?r.toFixed(6):"-"})]})}var Qe=Object(C.a)((function(){return{card:{width:"450px",borderRadius:"10px",border:"solid 1pt #e0e0e0"},cardContent:{marginLeft:"6px",marginRight:"6px",marginBottom:"6px"},tab:{width:"50%"},settingsButton:{padding:0},swapButton:{width:"100%",borderRadius:"15px"},swapToFromButton:{display:"block",marginLeft:"auto",marginRight:"auto"}}}));function Xe(e){var t=e.style,n=Qe();return Object(K.jsx)("div",{style:t,children:Object(K.jsxs)(S.a,{className:n.card,children:[Object(K.jsx)(Ye,{}),Object(K.jsxs)("div",{className:n.cardContent,children:[Object(K.jsx)($e,{}),Object(K.jsx)(Ze,{}),Object(K.jsx)(et,{}),Object(K.jsx)(Ge,{}),Object(K.jsx)(it,{})]})]})})}function Ye(){return Object(K.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",margin:"8px"},children:[Object(K.jsx)(h.a,{style:{fontWeight:"bold",display:"flex",justifyContent:"center",flexDirection:"column"},children:"Swap"}),Object(K.jsx)(Ke,{})]})}function Ze(){var e=Qe(),t=J().swapToFromMints;return Object(K.jsx)(O.a,{className:e.swapToFromButton,onClick:t,children:"\u21c5"})}function $e(){var e=J(),t=e.fromMint,n=e.setFromMint,r=e.fromAmount,o=e.setFromAmount;return Object(K.jsx)(tt,{mint:t,setMint:n,amount:r,setAmount:o})}function et(){var e=J(),t=e.toMint,n=e.setToMint,r=e.toAmount,o=e.setToAmount;return Object(K.jsx)(tt,{mint:t,setMint:n,amount:r,setAmount:o})}function tt(e){var t=e.mint,n=e.setMint,o=e.amount,i=e.setAmount,c=Object(r.useState)(!1),a=Object(x.a)(c,2),s=a[0],u=a[1],l=function(e){var t=Object(r.useContext)(ae);if(null===t)throw new Error("Context not available");if(void 0!==t.ownedTokenAccounts){var n=t.ownedTokenAccounts.filter((function(t){return t.account.mint.equals(e)}));return 0===n.length?null:(n.sort((function(e,t){return e.account.amount<t.account.amount?-1:e.account.amount>t.account.amount?1:0})),n[0])}}(t),d=ee(t);return Object(K.jsxs)(M.a,{elevation:0,variant:"outlined",style:{borderRadius:"10px"},children:[Object(K.jsxs)("div",{style:{height:"50px",display:"flex",justifyContent:"space-between"},children:[Object(K.jsx)(nt,{mint:t,onClick:function(){return u(!0)}}),Object(K.jsx)(T.a,{type:"number",value:o,onChange:function(e){return i(parseFloat(e.target.value))},style:{display:"flex",justifyContent:"center",flexDirection:"column"}})]}),Object(K.jsx)("div",{style:{marginLeft:"10px",height:"30px"},children:Object(K.jsx)(h.a,{color:"textSecondary",style:{fontSize:"14px"},children:l&&d?"Balance: ".concat((l.account.amount.toNumber()/Math.pow(10,d.decimals)).toFixed(d.decimals)):"-"})}),Object(K.jsx)(fe,{setMint:n,open:s,onClose:function(){return u(!1)}})]})}function nt(e){var t=e.mint,n=e.onClick;return Object(K.jsxs)(O.a,{onClick:n,style:{width:"116px"},children:[Object(K.jsx)(rt,{mint:t,style:{width:"25px",borderRadius:"13px"}}),Object(K.jsx)(ot,{mint:t}),Object(K.jsx)(F.a,{})]})}function rt(e){var t=e.mint,n=e.style,r=z().filter((function(e){return e.address===t.toString()}))[0];return Object(K.jsx)("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column"},children:r.logoURI?Object(K.jsx)("img",{alt:"token logo",style:n,src:r.logoURI}):Object(K.jsx)("div",{style:n})})}function ot(e){var t=e.mint,n=z().filter((function(e){return e.address===t.toString()}))[0];return Object(K.jsx)(h.a,{style:{marginLeft:"5px"},children:n.symbol})}function it(){var e=Qe(),t=J(),n=t.fromMint,r=t.toMint,o=t.fromAmount,i=t.toAmount,c=t.slippage,a=U().swapClient,l=ee(n),d=ee(r),b=function(){var e=Object(u.a)(s.a.mark((function e(){var t,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l&&d){e.next=2;break}throw new Error("Unable to calculate mint decimals");case 2:return t=new v.BN(o).muln(Math.pow(10,l.decimals)),u=new v.BN(i*(100-c)/100).muln(Math.pow(10,d.decimals)),e.next=6,a.swap({fromMint:n,toMint:r,amount:t,minExpectedSwapAmount:u});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(K.jsx)(O.a,{variant:"contained",className:e.swapButton,onClick:b,children:"Swap"})}var ct=function(e){var t=e.style,n=e.provider,r=e.tokenList,o=new k.Swap(n,r);return Object(K.jsx)(D,{tokenList:r,children:Object(K.jsx)($,{provider:n,children:Object(K.jsx)(se,{provider:n,children:Object(K.jsx)(W,{swapClient:o,children:Object(K.jsx)(V,{children:Object(K.jsx)(Xe,{style:t})})})})})})};n(346);function at(){var e=Object(m.b)().enqueueSnackbar,t=Object(r.useState)(null),n=Object(x.a)(t,2),o=n[0],i=n[1],c=Object(r.useState)(!1),a=Object(x.a)(c,2),s=a[0],u=a[1];return Object(r.useEffect)((function(){var t={preflightCommitment:"recent",commitment:"recent"},n="https://solana-api.projectserum.com",r=new g.a("https://www.sollet.io",n),o=new y.Connection(n,t.preflightCommitment),c=new st(o,r,t,(function(t){e("Transaction sent",{variant:"success",action:Object(K.jsx)(O.a,{color:"inherit",component:"a",target:"_blank",rel:"noopener",href:"https://explorer.solana.com/tx/".concat(t),children:"View on Solana Explorer"})})}));(new w.a).resolve().then((function(e){i({provider:c,tokenList:e}),r.connect()}))}),[e,i]),Object(r.useEffect)((function(){null!==o&&(o.provider.wallet.on("connect",(function(){u(!0)})),o.provider.wallet.connect())}),[o]),s?Object(K.jsx)(ct,{provider:o.provider,tokenList:o.tokenList}):Object(K.jsx)(h.a,{style:{textAlign:"center"},children:"Disconnected"})}var st=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(e,r,o,i){var c;return Object(l.a)(this,n),(c=t.call(this,e,r,o)).onTransaction=void 0,c.onTransaction=i,c}return Object(d.a)(n,[{key:"send",value:function(){var e=Object(u.a)(s.a.mark((function e(t,r,o){var i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.a)(Object(j.a)(n.prototype),"send",this).call(this,t,r,o);case 2:return i=e.sent,this.onTransaction(i),e.abrupt("return",i);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()}]),n}(v.Provider),ut=function(){return Object(K.jsx)("div",{style:{width:"450px",marginLeft:"auto",marginRight:"auto",position:"absolute",left:0,right:0,top:0,bottom:0,display:"flex",justifyContent:"center",flexDirection:"column"},children:Object(K.jsx)(m.a,{maxSnack:5,autoHideDuration:8e3,children:Object(K.jsx)(at,{})})})},lt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,413)).then((function(t){var n=t.getCLS,r=t.getFID,o=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),r(e),o(e),i(e),c(e)}))};c.a.render(Object(K.jsx)(o.a.StrictMode,{children:Object(K.jsx)(ut,{})}),document.getElementById("root")),lt()}},[[347,1,2]]]);
//# sourceMappingURL=main.56596eb2.chunk.js.map